<!DOCTYPE html>
<html>
<head>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
h1{text-align: center;}
h2{text-align: center;}
h3{text-align: center;}
body {font-family: Arial, Helvetica, sans-serif;}

/* Full-width input fields */
input[type=text], input[type=password] {
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  box-sizing: border-box;
}

/* Set a style for all buttons */
button {
  background-color: dodgerblue;
  color: white;
  padding: 20px 30px;
  margin: 8px 0;
  border: none;
  cursor: pointer;
  font-size: 40px;
}

button:hover {
  opacity: 0.8;
}

/* Extra styles for the cancel button */
.cancelbtn {
  width: auto;
  padding: 10px 18px;
  background-color: #f44336;
}

/* Center the image and position the close button */
.imgcontainer {
  text-align: center;
  margin: 24px 0 12px 0;
  position: relative;
}

img.avatar {
  width: 40%;
  border-radius: 50%;
}

.container {
  padding: 16px;
}

span.psw {
  float: right;
  padding-top: 16px;
}

/* The Modal (background) */
.modal1 {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  padding-top: 60px;
}

/* Modal Content/Box */
.modal1-content {
  background-color: #fefefe;
  margin: 5% auto 15% auto; /* 5% from the top, 15% from the bottom and centered */
  border: 1px solid #888;
  width: 80%; /* Could be more or less, depending on screen size */
}

/* The Modal (background) */
.modal {
  display: none;
  position: fixed;
  z-index: 1;
  padding-top: 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.4);;
}

/* Modal Content */
.modal-content {
  position: relative;
  background-color: #fefefe;
  margin: auto;
  padding: 0;
  width: 90%;
  max-width: 1200px;
}


/* The Close Button (x) */
.close {
  position: absolute;
  right: 25px;
  top: 0;
  color: #000;
  font-size: 35px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: red;
  cursor: pointer;
}

/* Add Zoom Animation */
.animate {
  -webkit-animation: animatezoom 0.6s;
  animation: animatezoom 0.6s
}

/* Style the top navigation bar */
.navbar {
  overflow: hidden;
  background-color: #333;
}

/* Style the navigation bar links */
.navbar a {
  float: left;
  display: block;
  color: white;
  text-align: center;
  padding: 14px 20px;
  text-decoration: none;
}

/* Right-aligned link */
.navbar a.right {
  float: right;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;  
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: red;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size:14px;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}

/* Next & previous buttons */
.prev,
.next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -50px;
  color: black;
  font-weight: bold;
  font-size: 20px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
  user-select: none;
  -webkit-user-select: none;
}

/* Position the "next button" to the right */
.next {
  right: 0;
  border-radius: 3px 0 0 3px;
}

/* On hover, add a black background color with a little bit see-through */
.prev:hover,
.next:hover {
  background-color: rgba(0, 0, 0, 0.8);
}

/* Number text (1/3 etc) */
.numbertext {
  color: #f2f2f2;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

img {
  margin-bottom: -4px;
}

.caption-container {
  text-align: center;
  background-color: black;
  padding: 2px 16px;
  color: white;
}

.demo {
  opacity: 0.6;
}

.active,
.demo:hover {
  opacity: 1;
}

img.hover-shadow {
  transition: 0.3s;
}

.hover-shadow:hover {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}
@-webkit-keyframes animatezoom {
  from {-webkit-transform: scale(0)} 
  to {-webkit-transform: scale(1)}
}
  
@keyframes animatezoom {
  from {transform: scale(0)} 
  to {transform: scale(1)}
}

/* Change styles for span and cancel button on extra small screens */
@media screen and (max-width: 300px) {
  span.psw {
     display: block;
     float: none;
  }
  .cancelbtn {
     width: 100%;
  }
}
</style>
</head>
<body><div class="navbar">
  <a href="#" onclick="steps()">steps</a>
  <a href="#" onclick="variable()">data set</a>
  <a href="#" onclick="descriptive()">graphics</a>
  <a href="#" onclick="hypothesis()">hypotheses</a>
  <a href="#" onclick="clustering()">data mining</a>
  <a href="#" onclick="checkfinal()">get finished</a>
  <a href="#" onclick="logout()" style="width:auto;" class="right">logout</a>
</div><h1><br><h1>
<p>data mining</p>
<input type="hidden" id="inputdata" name="data">
<div id="mytext"></div>
<div id="mytext2"></div>
<div id="mytext3"></div>
<input href="#" type="button" style="background-color:dodgerblue;color:white;width:80px;height:80px;font-size:40px;border:none;cursor: pointer;" value="+" onclick="addRow('newrow')">
<div id="content">
<script>
var numberofsets = 500
var numberofinputs = 9
var c = 0
getData()
function addRow(mode) {
  var nrslides = 2
  if(mode == 'newrow'){
  if (typeof(Storage) !== "undefined") {
    if (isNaN(localStorage.addrow4)){
      localStorage.addrow4 = 0
    }
    if (localStorage.addrow4) {
      localStorage.addrow4 = (Number(localStorage.addrow4)+1)%numberofsets;
    } else {
      localStorage.addrow4 = 1;
    }
  }
  clientdata.splice(0,0,["datamining",localStorage.addrow4,'','','','','','',''])
  presentrow = localStorage.addrow4
  }
  else{
  presentrow = mode
  }
  var stringpart = ''
  for (let i = 0; i < numberofsets; i++) {
  stringpart += `<div id="basis`+String(i)+`" class="modal">
    <div class="modal-content animate">
    <div class="imgcontainer">
      <span onclick="save(`+String(i)+`,'save')" class="close" title="Close Modal">&times;</span>
    </div>

    <div class="mySlides`+String(i)+`">
    <div id="mytext`+String(i)+`"></div>
    <p><br>Define your variables:</p>
    <input id='datasettitle`+String(i)+`' placeholder="data set" style="width:250px;" type="text" name="value" value="" />
    <input type="button" value="info" onclick="document.getElementById('id1').style.display='block'"  /><br>
    <div class="variabling`+String(i)+`"></div>
    <input type="hidden" id="indexvar`+String(i)+`" value="">
    <input type="hidden" id="inputcountervar`+String(i)+`" value=0>
    <input type="hidden" id="variablingall`+String(i)+`" value="">
    <input type="button" value="info" onclick="document.getElementById('id2').style.display='block'"  /><br>
    <select id="clusorgroups`+String(i)+`" onchange="clusorgroups(this,`+String(i)+`);">
    <option value="">what do you want to predict?</option>
    <option value="cluster">undefined clusters</option>
    <option value="groups">a grouping variable</option>
    </select>
    <input type="button" value="info" onclick="document.getElementById('id3').style.display='block'"  /><br>
    <div id="cluster`+String(i)+`" style="display: none;">
    <select id="numclusornot`+String(i)+`" onchange="clusternumberornot(this,`+String(i)+`);">
    <option value="">do you need a specific number of clusters?</option>
    <option value="numberclus">yes</option>
    <option value="nonumberclus">no</option>
    </select>
    <input type="button" value="info" onclick="document.getElementById('id4').style.display='block'"  /><br>
    <div id="numberclus`+String(i)+`" style="display: none;">
    <input id="numclus`+String(i)+`" placeholder="number of clusters" style="width:250px;" type="text" name="value" value="" />
    <input type="button" value="info" onclick="document.getElementById('id5').style.display='block'"  /><br>
    </div>
    </div>
    <div id="groups`+String(i)+`" style="display: none;">
    <input id="groupingvar`+String(i)+`" placeholder="grouping variable" style="width:250px;" type="text" name="value" value="" />
    <input type="button" value="info" onclick="document.getElementById('id6').style.display='block'"  /><br>
    </div>
    <br>
    </div>

    <div class="mySlides`+String(i)+`">
    <p><br>In and excluding:</p>
    <div class="exclude`+String(i)+`"></div>
    <input type="hidden" id="indexex`+String(i)+`" value="">
    <input type="hidden" id="inputcounterex`+String(i)+`" value=0>
    <input type="hidden" id="excludingall`+String(i)+`" value="">
    <input type="button" value="info" onclick="document.getElementById('id7').style.display='block'"  /><br>
    <br>
    </div>

    <a style="left:0px" class="prev" onclick="plusSlides(-1,`+i+`,`+nrslides+`)">&#10094;</a>
    <a class="next" onclick="plusSlides(1,`+i+`,`+nrslides+`)">&#10095;</a>
    <button style="font-size:14px;padding:16px20px;background-color:#228B22" type="button" onclick="save(`+String(i)+`,'save')" class="cancelbtn">Save</button><br><br><br>

    </div>
    </div>`
  }
  totalstring = `
    <label style="font-size:14px" id="showtitle`+presentrow+`">basis `+clientdata.length+`</label><br>
    <input id="`+presentrow+`" type="button" value="my basis" onclick="getbasis(this.id);currentSlide(1,this.id,`+nrslides+`);"  />
    <input type="button" value="copy" onclick="copy('datamining',`+presentrow+`)" />
    <input type="button" value="delete" onclick="removeRow(this,'datamining',`+presentrow+`)" />
 `  +stringpart+
    `
    <div id="id1" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id1').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>Fill in the number of the data set you want to use.</p>
      </div>
    </form>
    </div>
   
    <div id="id2" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id2').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>Fill in the variables with scale niveau you want to use. Your variables can have nominal/categorial scale niveau (e.g. gender - no order between different groups), ordinal scale niveau (e.g. marks in school - order between different categories, but no proportional intervals) and interval scale niveau (e.g. age - order and propotionality). More variables make a better prediction.</p>
      </div>
    </form>
    </div>

    <div id="id3" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id3').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>You can either make a cluster analysis and then predict those clusters, or you can predict an already existing grouping variable with your variables.</p>
      </div>
    </form>
    </div>

    <div id="id4" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id4').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>You can either choose a certain number of clusters or let us calculate the number of clusters with the best prediction potential.</p>
      </div>
    </form>
    </div>

    <div id="id5" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id5').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>Fill in how many clusters you want to have.</p>
      </div>
    </form>
    </div>

    <div id="id6" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id6').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>Fill in your grouping variable. The variables will predict the different groups of the grouping variable.</p>
      </div>
    </form>
    </div>

    <div id="id7" class="modal1">
    <form class="modal1-content animate">
      <div class="imgcontainer">
      <span onclick="document.getElementById('id7').style.display='none'" class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <p>Here you can in or exclude cases from your data set that will be used. The = only-operator keeps all cases having a certain value within a specific variable. The !=-operator on the other deletes all those cases. The < (smaller than) and > (bigger than) operator only work for numeric variables. They keep all cases to which apllies that the values of a specific variable are smaller or bigger than a certain value.</p>
      </div>
    </form>
    </div>
</div>
  `;

  const div = document.createElement('div');
  div.className = 'row';
  div.innerHTML = totalstring;
  document.getElementById('content').appendChild(div);
  inputcounterex = document.getElementById('inputcounterex'+presentrow).value
  $(document).ready(function() {
  createNextEx(presentrow,0,'normal');
  });
  inputcountervar = document.getElementById('inputcountervar'+presentrow).value
  $(document).ready(function() {
  createNextVar(presentrow,0,'normal');
  });
  click("datamining",presentrow);
};

function save(id,mode){
    datasettitle = document.getElementById("datasettitle"+String(id)).value;
    variabling = ''
    indexvarnumber = document.getElementById('indexvar'+String(id)).value
    for (var j = 0; j < indexvarnumber; j++) {
       variabling +=  document.getElementById('variabling'+String(id)+'_'+j).value+';';
    }
    document.getElementById('variablingall'+String(id)).value = variabling;
    clusorgrouping = document.getElementById("clusorgroups"+String(id)).value;
    numclusornot = document.getElementById("numclusornot"+String(id)).value;
    numclus = document.getElementById("numclus"+String(id)).value;
    groupingvar = document.getElementById("groupingvar"+String(id)).value;
    excluding = ''
    indexexnumber = document.getElementById('indexex'+String(id)).value
    for (var j = 0; j < indexexnumber; j++) {
       excluding +=  document.getElementById('excluding'+String(id)+'_'+j).value+';';
    }
    document.getElementById('excludingall'+String(id)).value = excluding;
  if(datasettitle.includes(',')|variabling.includes(',')|numclusornot.includes(',')|numclus.includes(',')|
    clusorgrouping.includes(',')|groupingvar.includes(',')|excluding.includes(',')|
    datasettitle.includes('[')|variabling.includes('[')|numclusornot.includes('[')|numclus.includes('[')|
    clusorgrouping.includes('[')|groupingvar.includes('[')|excluding.includes('[')|
    datasettitle.includes(']')|variabling.includes(']')|numclusornot.includes(']')|numclus.includes(']')|
    clusorgrouping.includes(']')|groupingvar.includes(']')|excluding.includes(']')|
    datasettitle.includes(';')|(variabling.match(/;/g) || []).length>indexvarnumber|numclusornot.includes(';')|numclus.includes(';')|
    clusorgrouping.includes(';')|groupingvar.includes(';')|(excluding.match(/;/g) || []).length>indexexnumber){
  alert("You used , ; [ or ] in one or more of your input fields. Please remove it to be able to save your data.")
  }
  else{
    if(mode=='copy'){
      clientdata.splice(0,1,['datamining',presentrow,datasettitle,variabling,clusorgrouping,numclusornot,numclus,groupingvar,excluding])  
    }
    else{
    for (var i = 0; i < clientdata.length; i++) {
    if ((clientdata[i][0]=='datamining')&(clientdata[i][1] == id)){
      clientdata.splice(i,1,['datamining',id,datasettitle,variabling,clusorgrouping,numclusornot,numclus,groupingvar,excluding])  
    };
    }
  }
  document.getElementById('basis'+id).style.display='none';
  sendData()
  }
};

function removeRow(input,page,id) {
  for (var i = 0; i < clientdata.length; i++) {
    if ((clientdata[i][0] == page)&(clientdata[i][1] == id)){
      clientdata.splice(i,1)
    };
  }
  sendData();
  clustering()
};

function refresh(){
for (var i = 0; i < clientdata.length; i++) {
   refreshcopy(i)
  }
}
function refreshcopy(i){
    id = clientdata[i][1]
    document.getElementById("showtitle"+id).innerHTML = "basis "+(clientdata.length-i)
    document.getElementById("datasettitle"+id).value = clientdata[i][2]
    document.getElementById('variablingall'+id).value = clientdata[i][3]
      variablearray = clientdata[i][3].split(';')
      for (var j = 0; j < variablearray.length-1; j++) {
        createNextVar(id,j+1,'refresh')
        document.getElementById('variabling'+id+'_'+j).value = variablearray[j]
      }
    document.getElementById("clusorgroups"+clientdata[i][1]).value = clientdata[i][4]
    document.getElementById("numclusornot"+clientdata[i][1]).value = clientdata[i][5]
    document.getElementById("numclus"+clientdata[i][1]).value = clientdata[i][6]
    document.getElementById("groupingvar"+clientdata[i][1]).value = clientdata[i][7]
    document.getElementById('excludingall'+id).value = clientdata[i][8]
      excludearray = clientdata[i][8].split(';')
      for (var j = 0; j < excludearray.length-1; j++) {
        createNextEx(id,j+1,'refresh')
        document.getElementById('excluding'+id+'_'+j).value = excludearray[j]
      }
    reopen(clientdata[i][1])
}
function reopen(id){
clusorgroups(document.getElementById('clusorgroups'+id),id)
clusternumberornot(document.getElementById('numclusornot'+id),id)
}
function getData(){
    var ajax = new XMLHttpRequest();
    ajax.open("GET", "server2datamining.php", true);
    ajax.send();
    ajax.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        console.log(this.responseText);
        document.getElementById('inputdata').value = this.responseText;
    }
    loadingData();
    };
}

function sendData() {
    var ajax = new XMLHttpRequest();
    ajax.open("POST", "serverdatamining.php", true);
    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    if(clientdata == []){
      clientdata == '[]'
    }
    ajax.send("data="+clientdata);
}

function createNextEx(id,indexex,mode) {
    // create the next text box if not exists
  if(indexex==inputcounterex | mode=='refresh'){
    if(indexex%3==2){
    var next = $('<input>', {
      id: 'excluding' + id + '_' + indexex,
      type: 'text',
      placeholder: 'value ' + (indexex+1)/3,
      class: 'text-chain'
    });
    var nextrow = $('<br>');
    var option = $("");
    }
    if(indexex%3==1){
    var next = $("<select>", {
       id: 'excluding' + id + '_' + indexex
    });
    var nextrow = $('');
    }
    if(indexex%3==0){
    var next = $('<input>', {
      id: 'excluding' + id + '_' + indexex,
      type: 'text',
      placeholder: 'variable ' + (indexex+3)/3,
      class: 'text-chain'
    });
    var nextrow = $('');
    var option = $("");
    }
    next.on('change', function() {
      createNextEx(id,indexex + 1,mode=='normal')
    });
    next.appendTo($('.exclude'+id));
    nextrow.appendTo($('.exclude'+id));
    if(indexex%3==1){
      $('#excluding' + id + '_' + indexex).append(`<option value="${'choose'}">${'choose'}</option><option value="${'='}">${'='}</option><option value="${'!='}">${'!='}</option>
                                                   <option value="${'<'}">${'<'}</option><option value="${'>'}">${'>'}</option>`);
    }
    document.getElementById('indexex'+id).value = indexex
    if(mode=='refresh'){
      inputcounterex = indexex + 1
    }
    else{
      inputcounterex = parseInt(inputcounterex) + 1
    }
    document.getElementById('inputcounterex'+id).value = inputcounterex
  }
}

function createNextVar(id,indexvar,mode) {
  if(indexvar==inputcountervar | mode=='refresh'){
    if(indexvar%2==1){
    var next = $("<select>", {
       id: 'variabling' + id + '_' + indexvar
    });
    }
    if(indexvar%2==0){
    var next = $('<input>', {
      id: 'variabling' + id + '_' + indexvar,
      type: 'text',
      placeholder: 'variable ' + (indexvar+2)/2,
      class: 'text-chain'
    });
    }
    if(indexvar%4==3){
    var nextrow = $('<br>');
    }
    else{
    var nextrow = $('');
    }
    next.on('change', function() {
      createNextVar(id,indexvar + 1,mode=='normal')
    });
    next.appendTo($('.variabling'+id));
    if(indexvar%2==1){
      $('#variabling' + id + '_' + indexvar).append(`<option value="${'choose'}">${'scale niveau'}</option><option value="${'nom'}">${'nominal'}</option>
      <option value="${'ord'}">${'ordinal'}</option><option value="${'int'}">${'interval'}</option>`);
    }
    nextrow.appendTo($('.variabling'+id));
    document.getElementById('indexvar'+id).value = indexvar
    if(mode=='refresh'){
      inputcountervar = indexvar + 1
    }
    else{
      inputcountervar = parseInt(inputcountervar) + 1
    }
    document.getElementById('inputcountervar'+id).value = inputcountervar
  }
}
function getbasis(clickedid){
    var name = 'basis' + String(clickedid);
    document.getElementById(name).style.display='block';
    click("datamining",presentrow);
}
function click_home() {
    // Get the modal
for (let i = 0; i < 3; i++) {
eval("modal"+String(i)+"= document.getElementById('id"+String(i)+"')")
// When the user clicks anywhere outside of the modal, close it
window.addEventListener('click', function(event) {
  if (eval("event.target == modal"+String(i))) {
    eval("modal"+String(i)+".style.display"+"='none';")
  }
  });
};
}
function click(page,id) {
    // Get the id
eval("basis"+id+" = document.getElementById('basis"+id+"')")
// When the user clicks anywhere outside of the modal, close it
window.addEventListener('click', function(event) {
  if (eval("event.target == basis"+id)) {
    eval("save(id,'save')")
  }
  });
    // Get the modal
for (let i = 0; i < 24; i++) {
eval("modal"+String(i)+"= document.getElementById('id"+String(i)+"')")
// When the user clicks anywhere outside of the modal, close it
window.addEventListener('click', function(event) {
  if (eval("event.target == modal"+String(i))) {
    eval("modal"+String(i)+".style.display"+"='none';")
  }
  });
};
}
function home() {
  location.replace("/home.html")
}
function price() {
  location.replace("/price.html")
}
function contact() {
  location.replace("/contact.html")
}
function steps() {
  location.replace("/steps.html")
  localStorage.addsteps = 0;
}
function variable() {
  location.replace("/variable.html")
  localStorage.addsteps = 0;
}
function descriptive() {
  location.replace("/descriptive.html")
  localStorage.addsteps = 0;
}
function hypothesis() {
  location.replace("/hypothesis.html")
  localStorage.addsteps = 0;
}
function clustering() {
  location.replace("/clustering.html");
  localStorage.addsteps = 0;
}
function checkfinal() {
  location.replace("/checkfinal.html");
  localStorage.addsteps = 0;
}
function logout(clientdata) {
  localStorage.addsteps = 0;
  location.replace("/home.html")
}
function changeImage() {

        if (document.getElementById("imgClickAndChange").src == "C:/Users/ra57sol/Pictures/Screenshots/Screenshot (1).png") 
        {
            document.getElementById("imgClickAndChange").src = "C:/Users/ra57sol/Pictures/Screenshots/Screenshot (1).png";
        }
        else 
        {
            document.getElementById("imgClickAndChange").src = "C:/Users/ra57sol/Pictures/Screenshots/Screenshot (1).png";
        }
    }


var slideIndex = 1;

function plusSlides(n,clickedid,nrslides) {
  showSlides(slideIndex += n,clickedid,nrslides);
}
function currentSlide(n,clickedid,nrslides) {
  showSlides(slideIndex = n,clickedid,nrslides);
}
function showSlides(n,clickedid,nrslides) {
  var slides = document.getElementsByClassName("mySlides"+String(clickedid));
  if (n > nrslides) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length/clientdata.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  slides[slideIndex-1].style.display = "block";
}

var slideIndex2 = 1;

function plusSlides2(n,clickedid) {
  showSlides2(slideIndex2 += n,clickedid);
}
function currentSlide2(n,clickedid) {
  showSlides2(slideIndex2 = n,clickedid);
}
function showSlides2(n,clickedid) {
  var slides = document.getElementsByClassName("graphicSlides"+String(clickedid));
  if (n > 8) {slideIndex2 = 1}
  if (n < 1) {slideIndex2 = 8}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  slides[slideIndex2-1].style.display = "block";
}



function wideorlong(that,id) {
    if (that.value == "long") {
        document.getElementById("choose1_"+String(id)).style.display = "block";
    } else {
        document.getElementById("choose1_"+String(id)).style.display = "none";
    }
}

function whichgraphic(that,id) {
    if (that.value == "") {
        document.getElementById("pie"+String(id)).style.display = "none";
        document.getElementById("barplot"+String(id)).style.display = "none";
        document.getElementById("boxplot"+String(id)).style.display = "none";
        document.getElementById("histogram"+String(id)).style.display = "none";
        document.getElementById("scatter"+String(id)).style.display = "none";
        document.getElementById("variables"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "none";
    }
    if (that.value == "pie") {
        document.getElementById("pie"+String(id)).style.display = "block";
        document.getElementById("barplot"+String(id)).style.display = "none";
        document.getElementById("boxplot"+String(id)).style.display = "none";
        document.getElementById("histogram"+String(id)).style.display = "none";
        document.getElementById("scatter"+String(id)).style.display = "none";
        document.getElementById("variables"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "none";
    }
    if (that.value == "barplot") {
        document.getElementById("pie"+String(id)).style.display = "none";
        document.getElementById("barplot"+String(id)).style.display = "block";
        document.getElementById("boxplot"+String(id)).style.display = "none";
        document.getElementById("histogram"+String(id)).style.display = "none";
        document.getElementById("scatter"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "block";
    }
    if (that.value == "boxplot") {
        document.getElementById("boxplot"+String(id)).style.display = "block";
        document.getElementById("barplot"+String(id)).style.display = "none";
        document.getElementById("pie"+String(id)).style.display = "none";
        document.getElementById("histogram"+String(id)).style.display = "none";
        document.getElementById("scatter"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "block";
    }
    if (that.value == "histogram") {
        document.getElementById("histogram"+String(id)).style.display = "block";
        document.getElementById("barplot"+String(id)).style.display = "none";
        document.getElementById("pie"+String(id)).style.display = "none";
        document.getElementById("boxplot"+String(id)).style.display = "none";
        document.getElementById("scatter"+String(id)).style.display = "none";
        document.getElementById("variables"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "none";
    }
    if (that.value == "scatter") {
        document.getElementById("scatter"+String(id)).style.display = "block";
        document.getElementById("barplot"+String(id)).style.display = "none";
        document.getElementById("pie"+String(id)).style.display = "none";
        document.getElementById("boxplot"+String(id)).style.display = "none";
        document.getElementById("histogram"+String(id)).style.display = "none";
        document.getElementById("groupornogroup"+String(id)).style.display = "block";
    }
    
}
function groupornot(that,id) {
    if (that.value == "yes") {
        document.getElementById("variables"+String(id)).style.display = "block";
    }
    else{
        document.getElementById("variables"+String(id)).style.display = "none";
    }
}
function baryaxis(that,id) {
    if (that.value == "") {
        document.getElementById("missingbar"+String(id)).style.display = "none";
        document.getElementById("variable1"+String(id)).style.display = "none";
        document.getElementById("variable2"+String(id)).style.display = "none";
    }
    if (that.value == "count" | that.value == "percentage") {
        document.getElementById("missingbar"+String(id)).style.display = "block";
        document.getElementById("variable1"+String(id)).style.display = "block";
        document.getElementById("variable2"+String(id)).style.display = "none";
    }
    if (that.value == "variable2") {
        document.getElementById("missingbar"+String(id)).style.display = "none";
        document.getElementById("variable1"+String(id)).style.display = "none";
        document.getElementById("variable2"+String(id)).style.display = "block";
    }
}
function hisincluded(that,id) {
    if (that.value == "") {
        document.getElementById("cpd"+String(id)).style.display = "none";
        document.getElementById("allhis"+String(id)).style.display = "none";
        document.getElementById("onlyhis"+String(id)).style.display = "none";
    }
    if (that.value == "his") {
        document.getElementById("cpd"+String(id)).style.display = "block";
        document.getElementById("allhis"+String(id)).style.display = "block";
        document.getElementById("onlyhis"+String(id)).style.display = "block";
    }
    if (that.value == "den") {
        document.getElementById("cpd"+String(id)).style.display = "none";
        document.getElementById("allhis"+String(id)).style.display = "block";
        document.getElementById("onlyhis"+String(id)).style.display = "none";
    }
    if (that.value == "both") {
        document.getElementById("cpd"+String(id)).style.display = "none";
        document.getElementById("allhis"+String(id)).style.display = "block";
        document.getElementById("onlyhis"+String(id)).style.display = "block";
    }
}
function renameornot(that,id) {
    if (that.value == "yes") {
        document.getElementById("renameyes"+String(id)).style.display = "block";
    }
    else{
        document.getElementById("renameyes"+String(id)).style.display = "none";
    }
}
function whichhypothesis(that,id) {
    if (that.value == "") {
        document.getElementById("dif"+String(id)).style.display = "none";
        document.getElementById("cor"+String(id)).style.display = "none";
    }
    if (that.value == "dif") {
        document.getElementById("dif"+String(id)).style.display = "block";
        document.getElementById("cor"+String(id)).style.display = "none";
    }
    if (that.value == "cor") {
        document.getElementById("dif"+String(id)).style.display = "none";
        document.getElementById("cor"+String(id)).style.display = "block";
    }
}
function innerorbetween(that,id) {
    if (that.value == "") {
        document.getElementById("inner"+String(id)).style.display = "none";
        document.getElementById("between"+String(id)).style.display = "none";
    }
    if (that.value == "inner") {
        document.getElementById("inner"+String(id)).style.display = "block";
        document.getElementById("between"+String(id)).style.display = "none";
    }
    if (that.value == "between") {
        document.getElementById("inner"+String(id)).style.display = "none";
        document.getElementById("between"+String(id)).style.display = "block";
    }
}
function nomordorint(that,id) {
    if (that.value == "") {
        document.getElementById("nomord"+String(id)).style.display = "none";
        document.getElementById("int"+String(id)).style.display = "none";
    }
    if (that.value == "nom" | that.value == "ord") {
        document.getElementById("nomord"+String(id)).style.display = "block";
        document.getElementById("int"+String(id)).style.display = "none";
    }
    if (that.value == "int") {
        document.getElementById("nomord"+String(id)).style.display = "none";
        document.getElementById("int"+String(id)).style.display = "block";
    }
}
function deforcom(that,id) {
    if (that.value == "") {
        document.getElementById("def"+String(id)).style.display = "none";
        document.getElementById("com"+String(id)).style.display = "none";
    }
    if (that.value == "def") {
        document.getElementById("def"+String(id)).style.display = "block";
        document.getElementById("com"+String(id)).style.display = "none";
    }
    if (that.value == "com") {
        document.getElementById("def"+String(id)).style.display = "none";
        document.getElementById("com"+String(id)).style.display = "block";
    }
}

function whichgroupdif(that,id) {
    if (that.value == "") {
        document.getElementById("one"+String(id)).style.display = "none";
        document.getElementById("multiple"+String(id)).style.display = "none";
    }
    if (that.value == "one") {
        document.getElementById("one"+String(id)).style.display = "block";
        document.getElementById("multiple"+String(id)).style.display = "none";
    }
    if (that.value == "multiple") {
        document.getElementById("one"+String(id)).style.display = "none";
        document.getElementById("multiple"+String(id)).style.display = "block";
    }
}
function clusorgroups(that,id) {
    if (that.value == "") {
        document.getElementById("cluster"+String(id)).style.display = "none";
        document.getElementById("groups"+String(id)).style.display = "none";
    }
    if (that.value == "cluster") {
        document.getElementById("cluster"+String(id)).style.display = "block";
        document.getElementById("groups"+String(id)).style.display = "none";
    }
    if (that.value == "groups") {
        document.getElementById("cluster"+String(id)).style.display = "none";
        document.getElementById("groups"+String(id)).style.display = "block";
    }
}
function clusternumberornot(that,id) {
    if (that.value == "numberclus") {

        document.getElementById("numberclus"+String(id)).style.display = "block";
    } else {
        document.getElementById("numberclus"+String(id)).style.display = "none";
    }
}
function howmanyvar(that,id) {
    if (that.value == "" | that.value == "all") {
        document.getElementById("create"+String(id)).style.display = "none";
        document.getElementById("spec"+String(id)).style.display = "none";
    }
    if (that.value == "create") {
        document.getElementById("create"+String(id)).style.display = "block";
        document.getElementById("spec"+String(id)).style.display = "none";
    }
    if (that.value == "spec") {
        document.getElementById("create"+String(id)).style.display = "none";
        document.getElementById("spec"+String(id)).style.display = "block";
    }
}
function whichchange(that,id) {
    if (that.value == "") {
        document.getElementById("whichdataset"+String(id)).style.display = "none";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "rename") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "block";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "join") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "block";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "val") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "block";
        document.getElementById("val"+String(id)).style.display = "block";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "spread") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "block";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
    }
    if (that.value == "gather") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "block";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "ex") {
        document.getElementById("whichdataset"+String(id)).style.display = "block";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "block";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "com") {
        document.getElementById("whichdataset"+String(id)).style.display = "none";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "block";
        document.getElementById("newdataset"+String(id)).style.display = "none";
    }
    if (that.value == "new") {
        document.getElementById("whichdataset"+String(id)).style.display = "none";
        document.getElementById("renameyes"+String(id)).style.display = "none";
        document.getElementById("join"+String(id)).style.display = "none";
        document.getElementById("change"+String(id)).style.display = "none";
        document.getElementById("val"+String(id)).style.display = "none";
        document.getElementById("spread"+String(id)).style.display = "none";
        document.getElementById("gather"+String(id)).style.display = "none";
        document.getElementById("excludeyes"+String(id)).style.display = "none";
        document.getElementById("combineyes"+String(id)).style.display = "none";
        document.getElementById("newdataset"+String(id)).style.display = "block";
    }
}
function howchangevar(that,id) {
    if (that.value == "") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "valtoval") {
        document.getElementById("valtoval"+String(id)).style.display = "block";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "valtomis") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "block";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "mistoval") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "block";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "dty") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "block";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "numeric") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "block";
        document.getElementById("relabel"+String(id)).style.display = "none";
    }
    if (that.value == "relabel") {
        document.getElementById("valtoval"+String(id)).style.display = "none";
        document.getElementById("valtomis"+String(id)).style.display = "none";
        document.getElementById("mistoval"+String(id)).style.display = "none";
        document.getElementById("dty"+String(id)).style.display = "none";
        document.getElementById("numeric"+String(id)).style.display = "none";
        document.getElementById("relabel"+String(id)).style.display = "block";
    }
}
function firstyearornot(that,id) {
    if ((!that.value.includes("yyyy"))&that.value!="") {
        document.getElementById("firsty"+String(id)).style.display = "block";
    }
   else{
        document.getElementById("firsty"+String(id)).style.display = "none";
   }
}
function addsteps() {
  if (typeof(Storage) !== "undefined") {
    if (localStorage.addsteps) {
      localStorage.addsteps = (Number(localStorage.addsteps)+1)%7;
    } else {
      localStorage.addsteps = 1;
    }
  if (localStorage.addsteps == 1){
    document.getElementById("id1").style.display = "block";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 2){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "block";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 3){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "block";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 4){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "block";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 5){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "block";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 6){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "block";
    document.getElementById("id7").style.display = "none";
  }
  if (localStorage.addsteps == 0){
    document.getElementById("id1").style.display = "none";
    document.getElementById("id2").style.display = "none";
    document.getElementById("id3").style.display = "none";
    document.getElementById("id4").style.display = "none";
    document.getElementById("id5").style.display = "none";
    document.getElementById("id6").style.display = "none";
    document.getElementById("id7").style.display = "block";
  }
  }
}

function copy(page,id){
  addRow('newrow')
  save(id,'copy')
  refreshcopy(0)
  save(presentrow,'save')
};

function saveall(){
let csvContent = "clientdata:text/csv;charset=utf-8,";
clientdata.forEach(function(rowArray) {
    let row = rowArray.join(",");
    csvContent += row + "\r\n";
});
var encodedUri = encodeURI(csvContent);
var link = document.createElement("a");
link.setAttribute("href", encodedUri);
link.setAttribute("download", "C:/Users/ra57sol/Desktop/website/csv/data.csv");
document.body.appendChild(link); // Required for FF

link.click();
};

function loadingData(){
clientdata = document.getElementById('inputdata').value
if(clientdata=='[]'|clientdata==''){
clientdata=[]
}
else{
clientdata = clientdata.split(',');
clientdata_new=[]
for (var i = 0; i < (clientdata.length/numberofinputs); i++) {
  clientdata_new.push([])
  for (var j = 0; j < numberofinputs; j++) {
    clientdata_new[i].push(clientdata[i*numberofinputs+j])
  }
}
clientdata=clientdata_new
}
j = clientdata.length
for (var i = 0; i < j; i++) {
 clientdata[i][1] = i
}
for (var i = 0; i < j; i++) {
addRow(clientdata[j-i-1][1])
}
refresh()
for (var i = 0; i < j; i++) {
save(clientdata[i][1],'reloading')
}
}
</script>
</body>
</html>